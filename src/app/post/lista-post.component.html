<app-menu *ngIf="router.url === '/blog'"></app-menu>

<div class="wrapper">

<p class="display-4 bold600 text-center my-5 py-4" *ngIf="router.url === '/blog'">Blog</p>



<!-- <p class="text-center">
   <button class="btn btn-primary mb-5" routerLink="nuevo"> Crear artículo </button>
</p>  -->

<!-- <div class="container d-flex justify-content-center"> -->

  <div class="container d-flex justify-content-around flex-wrap"> 
    <div class="col-lg-5 mt-5 " *ngFor="let post of posts.reverse() | paginate: { 
      itemsPerPage: 6, 
      currentPage: page, 
      totalItems: totalLenght
    }">

    <!-- <a routerLink="/{{post.id}}"> -->

      <div class="card cardstyle mt-0 mb-5 px-3 px-md-4 pt-3 pt-md-4 pb-0 corner shadow">

          <!-- {{post.image}}     intento con d-inline, miraré otro -->
          <table class="table table-borderless d-inline">
            <tr>
              <!-- <td> <img src="'http://localhost:4200/' + post.image"> </td> -->
              <a routerLink="{{post.id}}" *ngIf="router.url === '/blog'">
                <img [src]="'http://127.0.0.1/storage/' + post.image" class="img-fluid cornerlista mx-auto d-block" >
              </a>

              <a routerLink="blog/{{post.id}}" *ngIf="router.url !== '/blog'">
                <img [src]="'http://127.0.0.1/storage/' + post.image" class="img-fluid cornerlista mx-auto d-block" >
              </a>

            </tr>
            <tr>
              <td>
                <div class="mt-3"> 
                  <a class="h4" routerLink="{{post.id}}" *ngIf="router.url === '/blog'">{{post.name}}</a> 
                  <a class="h4" routerLink="blog/{{post.id}}" *ngIf="router.url !== '/blog'">{{post.name}}</a>
                </div>
              </td>
            </tr>
            <tr>
              <td>
               <div class="listheader"> {{post.header}} </div> 
                <!-- Probando. Este sería el header del artículo. Abajo tengo comentado la forma de mostrarlo bien. -->
                <!-- <div [innerHTML]="post.body"></div> -->
              </td>
            </tr>
            <tr>
              <td>
                <button class="btn btn-dark btn-block corner mt-3" routerLink="{{post.id}}" *ngIf="router.url === '/blog'">Ver artículo </button>
                <button class="btn btn-dark btn-block corner mt-3" routerLink="blog/{{post.id}}" *ngIf="router.url !== '/blog'">Ver artículo </button>
              </td>
            </tr>
            <!-- <tr>
              <td>
                <button class="btn btn-outline-dark btn-sm corner" routerLink="editar/{{post.id}}">Editar </button>
                &nbsp;
                <button class="btn btn-outline-dark btn-sm corner" (click)="borrar(post.id)">Borrar </button>
              </td>  
            </tr> -->

              <!-- Ponemos div innerhtml para que renderice el html -->
              <!-- {{post.body}} -->
          </table>
        
      </div>

    </div>
  </div>
 
  <div class="container mb-5" *ngIf="router.url === '/blog'">
    <pagination-controls class="my-pagination text-center"  (pageChange)="onPageChange($event)"  previousLabel="" nextLabel="" directionLinks="false"></pagination-controls>
  </div>

</div>

<app-footer *ngIf="router.url === '/blog'"></app-footer>